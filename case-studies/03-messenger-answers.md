# Facebook messenger case study

## Requirements

```
- User should be able to send messages to other users
- The messages should be delivered in real-time
- The user should be able to see a message history with other users
- The user should be able to see a list of the most recent conversations
```

## Back of the envelope calculations

**Task** - Come up with a basic data schema for the messenger app

### Entities and attributes

List all the entities that you think are necessary for the messenger app

```
- Entity 1
    - Attribute 1
    - Attribute 2
- Entity 2
    - Attribute 1
    - Attribute 2
```

### Estimations


**Question**: `What according to you would be the number of daily active users for the messenger app?`

**Answer**: ` `

**Question**: `How many conversations do you think a user would have in a day?`

**Answer**: ` `

**Question**: `How many messages do you think would be exchanged in a conversation?`

**Answer**: ` `

**Question**: `What are the total number of messages exchanged in a day?`

**Answer**: ` `

**Question**: `What is the size of a message?`

**Answer**: ` `

**Question**: `What is the total amount of data exchanged in a day?`

**Answer**: ` `

## Major operations

**Think of the different screens in the messenger app and the backend APIs that would be required to support them**

Screen - **Home screen**
API calls - 
```
- API 1(Params)
- API 2(Params)
```

Screen - **Chat screen**
```
- API 1(Params)
- API 2(Params)
```
---
## Design decisions

**Question**: `Will your system be read-heavy or write-heavy?`

**Answer**: ` `

**Question**: `Out of the 3 parts of the CAP theorem, which one would you choose for your system?`

**Answer**: ` `

---
## Sharding

**Question**: `Do you need to shard your database?`

**Answer**: ` `

**Question**: `What would be the different candidate keys for sharding?`

**Answer**:
```
- Candidate key 1
- Candidate key 2
```

### Candidate key 1

**Question**: `List down the number of reads and writes required for each operation`

**Answer**:
```
- Operation 1
    - Number of hops
- Operation 2
    - Number of hops
```

### Candidate key 2

**Question**: `List down the number of reads and writes required for each operation`

**Answer**:
```
- Operation 1
    - Number of hops
- Operation 2
    - Number of hops
```

**Final choice**: ` `

**Question**: `Do you require any other component to optimise your sharding strategy?`

**Answer**: 
```
```

---
## Design compliance

## Consistency
**Question** - `If you chose high consistency, how would you ensure that the system is consistent?`

**Answer** - 
```
```

## Database

**Question** - `What kind of database would you choose for the messenger app?`

**Answer** - 
```
```









